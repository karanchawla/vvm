# after(): enforce ordering when there's no data dependency
# Useful for side effects that must happen in sequence

export { done }

@worker = { model: opus }

# These have no data dependencies, but must run in order
step1 = @worker `Say "Step 1 complete"`
step2 = @worker `Say "Step 2 complete"` <- after(step1)
step3 = @worker `Say "Step 3 complete"` <- after(step2)

# Can also combine after() with data
report = @worker `Summarize what happened` <- after(step3)

done = report
